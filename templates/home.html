{% extends "base.html" %}
{% load humanize %}
{% block title %}Home | MCA{% endblock %}
{% block content %}

<h3 class="mb-3">Visão Geral</h3>

<div class="row g-3">
  <!-- Total a Receber -->
  <div class="col-12 col-md-3">
    <div class="card h-100">
      <div class="card-body">
        <div class="text-muted small">Total a receber</div>
        <div class="h4 mb-0">R$ {{ total_receber|floatformat:2|intcomma }}</div>
      </div>
    </div>
  </div>

  <!-- Total a Pagar -->
  <div class="col-12 col-md-3">
    <div class="card h-100">
      <div class="card-body">
        <div class="text-muted small">Total a pagar</div>
        <div class="h4 mb-0">R$ {{ total_pagar|floatformat:2|intcomma }}</div>
      </div>
    </div>
  </div>

  <!-- Faturamento Previsto -->
  <div class="col-12 col-md-3">
    <div class="card h-100">
      <div class="card-body">
        <div class="text-muted small">Faturamento previsto</div>
        <div class="h4 mb-0">R$ {{ faturamento_previsto|floatformat:2|intcomma }}</div>
      </div>
    </div>
  </div>

  <!-- Ocupação de Turmas -->
  <div class="col-12 col-md-3">
    <div class="card h-100">
      <div class="card-body">
        <div class="d-flex justify-content-between">
          <div class="text-muted small">Ocupação de turmas</div>
          <div class="small">
            {{ ocupacao_percentual|default:0|floatformat:1 }}%
          </div>
        </div>
        <div class="progress mt-2" role="progressbar" aria-valuemin="0" aria-valuemax="100"
             aria-valuenow="{{ ocupacao_percentual|default:0 }}">
          <div class="progress-bar" style="width: {{ ocupacao_percentual|default:0 }}%"></div>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- Espaços reservados -->
<h5 class="mt-4 mb-2">Análises (em breve)</h5>
<div class="row g-3">
  <!-- Custo por condomínio -->
  <div class="col-12 col-lg-6">
    <div class="card h-100">
      <div class="card-header">
        Custo por condomínio
      </div>
      <div class="card-body text-muted">
        <p class="mb-0">Espaço reservado para gráfico/tabela de custos por condomínio.</p>
      </div>
    </div>
  </div>

  <!-- Horas por professor -->
  <div class="col-12 col-lg-6">
    <div class="card h-100">
      <div class="card-header">
        Horas por professor
      </div>
      <div class="card-body text-muted">
        <p class="mb-0">Espaço reservado para gráfico/tabela de horas por professor.</p>
      </div>
    </div>
  </div>
</div>

{% endblock %}
